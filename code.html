<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhisperKey Lock - Secure Password Sharing</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, 
                hsl(330 100% 98%) 0%, 
                hsl(280 100% 98%) 50%, 
                hsl(340 100% 97%) 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Floating background elements */
        .bg-float {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            animation: float 6s ease-in-out infinite;
            pointer-events: none;
        }

        .bg-float-1 {
            top: 10%;
            left: 10%;
            width: 250px;
            height: 250px;
            background: rgba(244, 114, 182, 0.1);
        }

        .bg-float-2 {
            bottom: 15%;
            right: 10%;
            width: 320px;
            height: 320px;
            background: rgba(167, 139, 250, 0.1);
            animation-delay: 1s;
        }

        .bg-float-3 {
            top: 40%;
            right: 25%;
            width: 200px;
            height: 200px;
            background: rgba(110, 231, 183, 0.1);
            animation-delay: 2s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .container {
            max-width: 900px;
            width: 100%;
            position: relative;
            z-index: 10;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeIn 0.7s ease-out;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
        }

        .logo {
            padding: 16px;
            background: linear-gradient(135deg, rgba(244, 114, 182, 0.2), rgba(167, 139, 250, 0.2));
            border-radius: 24px;
            box-shadow: 0 4px 20px rgba(244, 114, 182, 0.15);
            position: relative;
        }

        .sparkle {
            position: absolute;
            top: -8px;
            right: -8px;
            width: 24px;
            height: 24px;
            animation: pulse 2s ease-in-out infinite;
        }

        h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, #f472b6, #a78bfa, #6ee7b7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
            font-weight: 700;
        }

        .subtitle {
            color: #9333ea;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .badges {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 16px;
        }

        .badge {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            border: 1.5px solid;
        }

        .badge-primary {
            background: rgba(244, 114, 182, 0.1);
            border-color: rgba(244, 114, 182, 0.2);
            color: #ec4899;
        }

        .badge-accent {
            background: rgba(110, 231, 183, 0.1);
            border-color: rgba(110, 231, 183, 0.2);
            color: #10b981;
        }

        .badge-secondary {
            background: rgba(167, 139, 250, 0.1);
            border-color: rgba(167, 139, 250, 0.2);
            color: #8b5cf6;
        }

        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 32px;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            padding: 6px;
            border-radius: 12px;
            border: 1px solid rgba(244, 114, 182, 0.1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .tab-button {
            flex: 1;
            padding: 12px 24px;
            border: none;
            background: transparent;
            color: #9333ea;
            font-size: 0.875rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #f472b6, #ec4899);
            color: white;
            box-shadow: 0 4px 12px rgba(244, 114, 182, 0.3);
        }

        .tab-button:not(.active):hover {
            background: rgba(244, 114, 182, 0.1);
        }

        .tab-content {
            display: none;
            animation: slideUp 0.5s ease-out;
        }

        .tab-content.active {
            display: flex;
            justify-content: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            padding: 32px;
            box-shadow: 0 8px 30px rgba(244, 114, 182, 0.12);
            width: 100%;
            max-width: 480px;
            border: 2px solid rgba(244, 114, 182, 0.2);
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 12px 40px rgba(244, 114, 182, 0.18);
        }

        .card-header {
            margin-bottom: 24px;
        }

        .card-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .card-title-gradient {
            background: linear-gradient(135deg, #f472b6, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card-description {
            color: #71717a;
            font-size: 0.875rem;
        }

        .icon-badge {
            padding: 10px;
            background: linear-gradient(135deg, rgba(244, 114, 182, 0.15), rgba(244, 114, 182, 0.05));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            color: #3f3f46;
            font-weight: 500;
            font-size: 0.875rem;
        }

        input {
            width: 100%;
            padding: 12px 16px;
            border: 1.5px solid rgba(244, 114, 182, 0.2);
            border-radius: 12px;
            font-size: 0.9375rem;
            transition: all 0.3s ease;
            background: white;
            font-family: 'Inter', sans-serif;
        }

        input:focus {
            outline: none;
            border-color: rgba(244, 114, 182, 0.4);
            box-shadow: 0 0 0 3px rgba(244, 114, 182, 0.1);
        }

        input[type="text"].mono {
            font-family: 'Courier New', monospace;
            font-size: 0.8125rem;
        }

        .button {
            width: 100%;
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-family: 'Inter', sans-serif;
            box-shadow: 0 4px 12px rgba(244, 114, 182, 0.2);
        }

        .button-primary {
            background: linear-gradient(135deg, #f472b6, #ec4899);
            color: white;
        }

        .button-primary:hover:not(:disabled) {
            opacity: 0.9;
            transform: translateY(-1px);
            box-shadow: 0 6px 16px rgba(244, 114, 182, 0.3);
        }

        .button-accent {
            background: linear-gradient(135deg, #6ee7b7, #10b981);
            color: white;
        }

        .button-accent:hover:not(:disabled) {
            opacity: 0.9;
            transform: translateY(-1px);
            box-shadow: 0 6px 16px rgba(110, 231, 183, 0.3);
        }

        .button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .info-box {
            display: flex;
            align-items: start;
            gap: 10px;
            background: rgba(244, 114, 182, 0.05);
            padding: 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            color: #71717a;
            margin-top: 16px;
            border: 1px solid rgba(244, 114, 182, 0.1);
        }

        .result-box {
            margin-top: 20px;
            padding: 16px;
            background: rgba(110, 231, 183, 0.05);
            border: 2px solid rgba(110, 231, 183, 0.2);
            border-radius: 16px;
            animation: slideUp 0.4s ease-out;
        }

        .result-label {
            color: #10b981;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.875rem;
        }

        .result-value {
            display: flex;
            gap: 8px;
        }

        .result-input {
            flex: 1;
            font-family: 'Courier New', monospace;
            background: white;
            border-color: rgba(110, 231, 183, 0.2);
            font-size: 1rem;
            font-weight: 500;
        }

        .copy-button {
            padding: 12px 16px;
            background: white;
            border: 1.5px solid rgba(110, 231, 183, 0.3);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .copy-button:hover {
            background: rgba(110, 231, 183, 0.1);
            border-color: #10b981;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            color: #9333ea;
            font-size: 0.875rem;
            animation: fadeIn 1s ease-out;
        }

        .footer p {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .divider {
            height: 1px;
            width: 48px;
            background: linear-gradient(to right, transparent, rgba(244, 114, 182, 0.3));
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 16px 24px;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            display: none;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
            max-width: 300px;
        }

        .toast.show {
            display: flex;
        }

        .toast.success {
            border-left: 4px solid #10b981;
        }

        .toast.error {
            border-left: 4px solid #ef4444;
        }

        .spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(100px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @media (max-width: 640px) {
            h1 { font-size: 2rem; }
            .card { padding: 24px; }
            .badges { gap: 8px; }
        }

        /* SVG Icons */
        .icon {
            width: 20px;
            height: 20px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .icon-sm {
            width: 14px;
            height: 14px;
        }
    </style>
</head>
<body>
    <!-- Floating background elements -->
    <div class="bg-float bg-float-1"></div>
    <div class="bg-float bg-float-2"></div>
    <div class="bg-float bg-float-3"></div>

    <div class="container">
        <div class="header">
            <div class="logo-container">
                <div class="logo">
                    <svg class="icon" viewBox="0 0 24 24" style="width: 56px; height: 56px; stroke: #ec4899; fill: rgba(236, 72, 153, 0.2);">
                        <path d="M19 11H5M19 11C20.1046 11 21 11.8954 21 13V20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V13C3 11.8954 3.89543 11 5 11M19 11V9C19 5.13401 15.866 2 12 2C8.13401 2 5 5.13401 5 9V11"/>
                    </svg>
                    <svg class="sparkle" viewBox="0 0 24 24" style="stroke: #6ee7b7; fill: none; stroke-width: 2;">
                        <path d="M12 3v18m0-18l-3 7m3-7l3 7m6 2H3m18 0l-7-3m7 3l-7 3M3 12l7-3m-7 3l7 3"/>
                    </svg>
                </div>
            </div>
            
            <h1>WhisperKey Lock</h1>
            <div class="subtitle">
                <svg class="icon icon-sm" viewBox="0 0 24 24">
                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                Share passwords with love & care
                <svg class="icon icon-sm" viewBox="0 0 24 24">
                    <path d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                </svg>
            </div>

            <div class="badges">
                <div class="badge badge-primary">
                    <svg class="icon icon-sm" viewBox="0 0 24 24">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    Secure
                </div>
                <div class="badge badge-accent">
                    <svg class="icon icon-sm" viewBox="0 0 24 24" style="fill: currentColor;">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                    </svg>
                    Private
                </div>
                <div class="badge badge-secondary">
                    <svg class="icon icon-sm" viewBox="0 0 24 24">
                        <path d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                    </svg>
                    Simple
                </div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab-button active" onclick="switchTab('encode')">üíù Encrypt</button>
            <button class="tab-button" onclick="switchTab('decode')">‚ú® Unlock</button>
        </div>

        <div class="tab-content active" id="encode-tab">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="icon-badge">
                            <svg class="icon" viewBox="0 0 24 24" style="width: 20px; height: 20px; stroke: #ec4899;">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                            </svg>
                        </div>
                        <span class="card-title-gradient">Encrypt Password</span>
                    </div>
                    <p class="card-description">Keep your password safe with a secret code üíù</p>
                </div>
                <form onsubmit="handleEncode(event)">
                    <div class="form-group">
                        <label for="password">
                            <svg class="icon icon-sm" viewBox="0 0 24 24" style="stroke: #ec4899; fill: currentColor; fill-opacity: 0.3;">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                            </svg>
                            Password
                        </label>
                        <input type="password" id="password" placeholder="Enter your password" required>
                    </div>
                    <div class="form-group">
                        <label for="secretCode">
                            <svg class="icon icon-sm" viewBox="0 0 24 24" style="stroke: #a78bfa;">
                                <path d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
                            Secret Code
                        </label>
                        <input type="password" id="secretCode" placeholder="Create a secret code" required>
                    </div>
                    <button type="submit" class="button button-primary" id="encodeBtn">
                        <svg class="icon icon-sm" viewBox="0 0 24 24">
                            <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                        </svg>
                        Create Secure Code
                    </button>
                    <div class="info-box">
                        <svg class="icon icon-sm" viewBox="0 0 24 24" style="stroke: #ec4899; flex-shrink: 0;">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7 10 12 15 17 10"/>
                            <line x1="12" x2="12" y1="15" y2="3"/>
                        </svg>
                        Your secure file will download automatically ‚ú®
                    </div>
                </form>
            </div>
        </div>

        <div class="tab-content" id="decode-tab">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="icon-badge">
                            <svg class="icon" viewBox="0 0 24 24" style="width: 20px; height: 20px; stroke: #6ee7b7;">
                                <path d="m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4"/>
                                <path d="m21 2-9.6 9.6"/>
                                <circle cx="7.5" cy="15.5" r="5.5"/>
                            </svg>
                        </div>
                        <span class="card-title-gradient" style="background: linear-gradient(135deg, #6ee7b7, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Unlock Password</span>
                    </div>
                    <p class="card-description">Reveal your password with the magic codes ‚ú®</p>
                </div>
                <form onsubmit="handleDecode(event)">
                    <div class="form-group">
                        <label for="hashcode">
                            <svg class="icon icon-sm" viewBox="0 0 24 24" style="stroke: #6ee7b7;">
                                <path d="m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4"/>
                                <path d="m21 2-9.6 9.6"/>
                                <circle cx="7.5" cy="15.5" r="5.5"/>
                            </svg>
                            Hashcode
                        </label>
                        <input type="text" id="hashcode" class="mono" placeholder="Paste your hashcode" required>
                    </div>
                    <div class="form-group">
                        <label for="secretCodeUnlock">
                            <svg class="icon icon-sm" viewBox="0 0 24 24" style="stroke: #a78bfa;">
                                <path d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
                            Secret Code
                        </label>
                        <input type="password" id="secretCodeUnlock" placeholder="Enter your secret code" required>
                    </div>
                    <button type="submit" class="button button-accent" id="decodeBtn">
                        <svg class="icon icon-sm" viewBox="0 0 24 24">
                            <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                            <path d="M7 11V7a5 5 0 0 1 9.9-1"/>
                        </svg>
                        Reveal Password
                    </button>
                    <div id="result" style="display: none;" class="result-box">
                        <label class="result-label">
                            <svg class="icon icon-sm" viewBox="0 0 24 24" style="fill: currentColor; fill-opacity: 0.3;">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                            </svg>
                            Your Password:
                        </label>
                        <div class="result-value">
                            <input type="text" id="unlockedPassword" readonly class="result-input">
                            <button type="button" class="copy-button" onclick="copyPassword()">
                                <svg class="icon icon-sm" viewBox="0 0 24 24" style="stroke: #10b981;">
                                    <rect width="14" height="14" x="8" y="8" rx="2" ry="2"/>
                                    <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="footer">
            <p>
                <span class="divider"></span>
                <svg class="icon icon-sm" viewBox="0 0 24 24" style="fill: currentColor; fill-opacity: 0.5;">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
                Auto-expires in 7 days
                <span class="divider" style="background: linear-gradient(to left, transparent, rgba(244, 114, 182, 0.3));"></span>
            </p>
            <p style="font-size: 0.75rem; opacity: 0.6;">Share with trust and care üíï</p>
        </div>
    </div>

    <div id="toast" class="toast">
        <span id="toastMessage"></span>
    </div>

    <!-- Supabase JS Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script src="../standalone/script.js">
        
    </script>
</body>
</html>
